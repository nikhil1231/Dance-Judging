extends ./layout/websiteLayoutDeep.pug

block title
  title Competition
block head
  link(rel="stylesheet" href="../../css/comp.css")
  style.
        #map{
            height:400px;
            width:30%;
        }
block content
  include includes/pageTopDeep
  
  //- Header
  header.navbar-margin
    div(class="container")
      h3(id='competition') #{compData.competition}
      h2(id='location') #{compData.location}
    div(id="map")
    .container
      .row
        .col-10.mx-auto
          h1.text-center.mb-4 Routines
          ul(class='list-group card' id='listByDances')
            - for (var i = 0; i < danceData.dance.length; i++)
              li.list-group-item
                a(href=`../../judge?id=${danceData.id[i]}`)
                  h4 #{danceData.dance[i]}


    //- script(src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous")
    //- script(type="text/javascript").
    //-   $(document).ready(() => {
    //-       $.ajax("http://localhost:8080/list/comp/"+#{compData.competition_id}+"/getRoutines", {
    //-         success: (data) => {
    //-           console.log("check"); 
    //-           $('#listByDances').html('');
    //-           for (const routine of data) {
    //-             $('#listByDances').append(
    //-               $('<li>').attr('class', 'list-group-item bg-primary').append(
    //-                 $(`<a href="../judge?id=${routine.id}">`)
    //-                 .attr('class', 'text-white')
    //-                 .append(
    //-                   `${routine.dance}`
    //-                 )
    //-               )
    //-             );
    //-           }
    //-         }
    //-       });
    //-     })